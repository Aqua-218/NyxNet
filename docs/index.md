# NyxNet - 高度な匿名通信プロトコル実装

NyxNetは、最新の暗号技術とミックスネット技術を組み合わせた、次世代の匿名通信プロトコルの参照実装です。

## 実装状況

### 実装済みコンポーネント

#### 🔐 暗号化レイヤー (`nyx-crypto`)
- **Noise Protocol**: Noise_Nyx handshake実装
- **HKDF**: 安全なキー導出関数（ラベル付きセマンティクス）
- **AEAD**: 認証付き暗号化
- **キーストア**: 安全なキー管理システム
- **Post-Quantum**: Kyber1024, BIKE暗号のオプションサポート
- **HPKE**: RFC 9180準拠のハイブリッド公開鍵暗号化
- **PCR Rekey**: Post-Compromise Recovery機能

#### 🌊 ストリーミングレイヤー (`nyx-stream`)
- **フレーム処理**: 複数のフレームタイプ（データ、ACK、管理）
- **輻輳制御**: 適応的輻輳制御アルゴリズム
- **マルチパス**: 複数経路での同時通信
- **リオーダリング**: パケット順序復元バッファ
- **プラグインシステム**: 動的機能拡張フレームワーク
- **能力ネゴシエーション**: CBOR形式での機能交渉
- **管理フレーム**: Ping/Pong, Close, Settings, Path Challenge/Response
- **国際化**: 多言語文字列フレーム
- **HPKE Rekey**: セッション鍵の定期更新

#### 🔀 ミックスルーティング (`nyx-mix`)
- **重み付きパス構築**: レイテンシ・帯域幅を考慮した経路選択
- **カバートラフィック**: ポアソン分布による偽装通信
- **適応型カバートラフィック**: 利用率に基づく動的調整
- **cMix統合**: バッチ処理とVDF遅延
- **LARMix**: レイテンシ対応ルーティング
- **匿名性評価**: 匿名セット分析機能

#### 🚀 トランスポート (`nyx-transport`)
- **UDP Pool**: SO_REUSEPORTによる効率的なソケット管理
- **ICE-lite**: 基本的なNATトラバーサル
- **Teredo**: IPv6 over IPv4トンネリング
- **QUIC拡張**: QUIC DATAGRAMサポート（フィーチャーフラグ）
- **TCP Fallback**: QUIC利用不可時のTCPカプセル化
- **パス検証**: 接続経路の検証機能

#### 🛡️ 前方誤り訂正 (`nyx-fec`)
- **Reed-Solomon**: デフォルト10+3構成（30%オーバーヘッド）
- **RaptorQ**: 適応的レート符号化
- **タイミング難読化**: パケット送信タイミングの隠蔽
- **パディング**: 一定サイズパケット（1280バイト）

#### 🎛️ 制御プレーン (`nyx-control`)
- **DHT**: Kademlia分散ハッシュテーブル
- **プッシュ通知**: FCM/APNS統合
- **プローブ機能**: ネットワーク品質測定
- **設定同期**: 分散設定管理

#### 🖥️ デーモン (`nyx-daemon`)
- **gRPC API**: 包括的な制御インターフェース
- **ストリーム管理**: 接続ライフサイクル管理
- **メトリクス収集**: リアルタイム性能監視
- **パス構築**: 地理的多様性を考慮した経路構築
- **セッション管理**: Connection ID (CID) ベース
- **ヘルス監視**: システム健全性チェック
- **イベントシステム**: リアルタイムイベント配信

#### 💻 CLI (`nyx-cli`)
- **接続機能**: ターゲットへの匿名接続
- **ステータス表示**: デーモン状態の詳細表示
- **ベンチマーク**: 性能測定機能
- **国際化**: 日本語、英語、中国語対応
- **インタラクティブモード**: 対話的操作

#### 🔧 コアライブラリ (`nyx-core`)
- **設定管理**: TOML設定ファイル処理
- **エラーハンドリング**: 統一エラー型
- **型定義**: 共通データ型（NodeId等）
- **サンドボックス**: Linux seccomp、OpenBSD pledge/unveil
- **国際化**: i18n文字列管理
- **モバイル対応**: バッテリー効率化機能
- **プッシュ通知**: モバイルプッシュ統合
- **能力管理**: 機能フラグシステム
- **コンプライアンス**: 規制対応レベル管理

### テスト実装状況
- **単体テスト**: 全コンポーネントで包括的テストカバレッジ
- **統合テスト**: クレート間連携テスト
- **適合性テスト**: プロトコル仕様準拠性検証
- **負荷テスト**: 高負荷環境での動作確認

## アーキテクチャ概要

```
┌─────────────────┐    ┌─────────────────┐
│   nyx-cli       │    │   アプリケーション   │
│   (CLI Tool)    │    │   (nyx-sdk)     │
└─────────┬───────┘    └─────────┬───────┘
          │ gRPC                  │ SDK API
          └───────────┬───────────┘
                      │
          ┌───────────▼───────────┐
          │     nyx-daemon        │
          │   (制御サービス)        │
          └───────────┬───────────┘
                      │
    ┌─────────────────┼─────────────────┐
    │                 │                 │
┌───▼────┐  ┌────▼─────┐  ┌─────▼────┐
│nyx-mix │  │nyx-stream│  │nyx-crypto│
│(ルーティング)│  │(ストリーム) │  │(暗号化)  │
└────────┘  └──────────┘  └──────────┘
    │           │              │
    └───────────┼──────────────┘
                │
    ┌───────────▼───────────┐
    │    nyx-transport      │
    │   (UDP/QUIC/TCP)      │
    └───────────────────────┘
```

## 主要機能

### 🔒 プライバシー保護
- **ミックスネット**: 多段階の匿名化ルーティング
- **カバートラフィック**: 通信パターンの隠蔽
- **Post-Quantum**: 量子コンピュータ耐性暗号

### ⚡ 高性能
- **マルチパス**: 複数経路での並列通信
- **適応制御**: ネットワーク状況に応じた最適化
- **前方誤り訂正**: パケットロス耐性

### 🌐 互換性
- **クロスプラットフォーム**: Windows, Linux, macOS対応
- **モバイル最適化**: バッテリー効率を考慮した設計
- **プロトコル拡張**: プラグインによる機能拡張

### 🛡️ セキュリティ
- **メモリ安全**: Rust言語による安全な実装
- **サンドボックス**: システムコール制限
- **監査可能**: オープンソース実装

## ドキュメント構成

- [チュートリアル](tutorial_chat.md) - 基本的な使用方法
- [日本語ドキュメント](ja/) - 日本語での詳細説明
- [English Documentation](en/) - English documentation
- [中文文档](zh/) - 中文详细说明

## 開発状況

現在の実装は活発に開発中で、以下の機能が完全に実装されています：

- ✅ 基本的な匿名通信プロトコル
- ✅ 多層暗号化システム
- ✅ ミックスネットルーティング
- ✅ 前方誤り訂正
- ✅ マルチパス通信
- ✅ gRPC制御API
- ✅ CLI/SDKインターフェース
- ✅ 包括的テストスイート

継続的な改善とセキュリティ監査により、プロダクション環境での使用に向けて準備を進めています。 